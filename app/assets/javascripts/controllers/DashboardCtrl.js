// Generated by CoffeeScript 1.10.0
angular.module('todo').controller("DashboardCtrl", function($scope, TodoList) {
  var serverErrorHandler;
  $scope.init = function() {
    this.listsService = new TodoList(serverErrorHandler);
    return $scope.lists = this.listsService.all();
  };
  $scope.createList = function(listName) {
    var list;
    list = this.listsService.create({
      name: listName
    });
    $scope.lists.push(list);
    return $scope.listName = "";
  };
  $scope.deleteList = function(list, index) {
    if (confirm("リストを削除しますか?")) {
      this.listsService["delete"](list);
      return $scope.lists.splice(index, 1);
    }
  };
  return serverErrorHandler = function() {
    return alert("サーバーでエラーが発生しました。画面を更新し、もう一度試してください。");
  };
});
